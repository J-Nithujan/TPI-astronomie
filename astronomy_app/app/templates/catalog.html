{# Version 16.05.22 #}

{% extends 'main_template.html' %}

{% block title %} Catalogue de Messier {% endblock %}

{% block breadcrumb_items %}
    <li class="breadcrumb-item">
        <a class="text-decoration-none" href="{{ url_for('index') }}">Accueil</a>
    </li>
    <li class="breadcrumb-item active text-light" aria-current="page">Catalogue Messier</li>
{% endblock breadcrumb_items %}

{% block content %}
    <div class="row">
        <div class="col-md-12 text-center mt-5 mb-auto">
            <div class="fs-4">Catalogue de Messier</div>
        </div>

        <div class="col-md-8 mt-3 ms-auto me-auto">
            <div>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Reiciendis corrupti inventore
                cumque repellendus minima esse dolorum explicabo hic dolores, perferendis eligendi possimus ea vitae
                voluptatem ducimus ullam aliquid pariatur. Atque quam et dolor ipsa animi perferendis fuga quos in,
                minima quo asperiores ad exercitationem nihil deleniti. Vel earum dolores consequuntur!
            </div>
        </div>

        <div class="col-md-12 mt-5 mb-auto">
            <table id="messier_catalog" class="table table-dark table-hover">
                <thead>
                <tr>
                    <th class="text-center">N°</th>
                    <th class="text-center">M</th>
                    <th class="text-center">NGC</th>
                    <th class="text-center">Type</th>
                    <th class="text-center">Constellation</th>
                    <th class="text-center">AD</th>
                    <th class="text-center">Déclinaison</th>
                    <th class="text-center">MA</th>
                    <th class="text-center">Taille</th>
                    <th class="text-center">Distance (al)</th>
                    <th class="text-center">Meilleur saison</th>
                    <th class="text-center">Difficulté d'observation</th>
                    <th class="text-center">Image</th>
                </thead>
                <tbody class="">
                {% with messages = get_flashed_messages() %}
                    {% if messages %}
                        {% for message in messages %}
                            <td colspan="12" class="text-center text-danger fs-3">{{ message }}</td>
                        {% endfor %}

                    {% else %}

                        {% for object in list %}
                            <tr>
                                <td class="text-center align-middle">{{ object.id }}</td>
                                <td class="text-center align-middle">{{ object.messier_number }}</td>
                                <td class="text-center align-middle">{{ object.ngc_number }}</td>
                                <td class="text-center align-middle">{{ object.type.name }}</td>
                                <td class="text-center align-middle">{{ object.constellation.name }}</td>
                                <td class="text-center align-middle">{{ object.right_ascension }}</td>
                                <td class="text-center align-middle">{{ object.declination }}</td>
                                <td class="text-center align-middle">{{ object.apparent_magnitude }}</td>
                                <td class="text-center align-middle">{{ object.size }}</td>
                                <td class="text-center align-middle">{{ object.distance }}</td>
                                <td class="text-center align-middle">{{ object.season.name }}</td>
                                <td class="text-center align-middle">{{ object.observation_difficulty.name }}</td>
                                <td><img src="{{ url_for('static', filename=object.picture) }}" class="object_image"
                                         alt="celestial object image"></td>
                            </tr>
                        {% endfor %}
                    {% endif %}
                {% endwith %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock content %}